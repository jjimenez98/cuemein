{"ast":null,"code":"'use strict';\n\nvar Filter = function () {\n  function Filter(options) {\n    options = Object.assign({\n      getKey: function defaultGetKey(a) {\n        return a;\n      },\n      getValue: function defaultGetValue(a) {\n        return a;\n      },\n      isLessThanOrEqualTo: function defaultIsLessThanOrEqualTo(a, b) {\n        return a <= b;\n      }\n    }, options);\n    Object.defineProperties(this, {\n      _getKey: {\n        value: options.getKey\n      },\n      _getValue: {\n        value: options.getValue\n      },\n      _isLessThanOrEqualTo: {\n        value: options.isLessThanOrEqualTo\n      },\n      _map: {\n        value: new Map()\n      }\n    });\n  }\n\n  Filter.prototype.toMap = function () {\n    return new Map(this._map);\n  };\n\n  Filter.prototype.updateAndFilter = function (entries) {\n    return entries.filter(this.update, this);\n  };\n\n  Filter.prototype.update = function (entry) {\n    var key = this._getKey(entry);\n\n    var value = this._getValue(entry);\n\n    if (this._map.has(key) && this._isLessThanOrEqualTo(value, this._map.get(key))) {\n      return false;\n    }\n\n    this._map.set(key, value);\n\n    return true;\n  };\n\n  return Filter;\n}();\n\nmodule.exports = Filter;","map":{"version":3,"sources":["../../lib/util/filter.js"],"names":[],"mappings":"AAAA;;AAEA,IAAA,MAAA,GAAA,YAAA;AACE,WAAA,MAAA,CAAY,OAAZ,EAAmB;AACjB,IAAA,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc;AACtB,MAAA,MAAM,EAAE,SAAS,aAAT,CAAuB,CAAvB,EAAwB;AAAI,eAAO,CAAP;AAAW,OADzB;AAEtB,MAAA,QAAQ,EAAE,SAAS,eAAT,CAAyB,CAAzB,EAA0B;AAAI,eAAO,CAAP;AAAW,OAF7B;AAGtB,MAAA,mBAAmB,EAAE,SAAS,0BAAT,CAAoC,CAApC,EAAuC,CAAvC,EAAwC;AAAI,eAAO,CAAC,IAAI,CAAZ;AAAgB;AAH3D,KAAd,EAIP,OAJO,CAAV;AAKA,IAAA,MAAM,CAAC,gBAAP,CAAwB,IAAxB,EAA8B;AAC5B,MAAA,OAAO,EAAE;AACP,QAAA,KAAK,EAAE,OAAO,CAAC;AADR,OADmB;AAI5B,MAAA,SAAS,EAAE;AACT,QAAA,KAAK,EAAE,OAAO,CAAC;AADN,OAJiB;AAO5B,MAAA,oBAAoB,EAAE;AACpB,QAAA,KAAK,EAAE,OAAO,CAAC;AADK,OAPM;AAU5B,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAE,IAAI,GAAJ;AADH;AAVsB,KAA9B;AAcD;;AAED,EAAA,MAAA,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AACE,WAAO,IAAI,GAAJ,CAAQ,KAAK,IAAb,CAAP;AACD,GAFD;;AAIA,EAAA,MAAA,CAAA,SAAA,CAAA,eAAA,GAAA,UAAgB,OAAhB,EAAuB;AACrB,WAAO,OAAO,CAAC,MAAR,CAAe,KAAK,MAApB,EAA4B,IAA5B,CAAP;AACD,GAFD;;AAIA,EAAA,MAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,KAAP,EAAY;AACV,QAAM,GAAG,GAAG,KAAK,OAAL,CAAa,KAAb,CAAZ;;AACA,QAAM,KAAK,GAAG,KAAK,SAAL,CAAe,KAAf,CAAd;;AACA,QAAI,KAAK,IAAL,CAAU,GAAV,CAAc,GAAd,KACA,KAAK,oBAAL,CAA0B,KAA1B,EAAiC,KAAK,IAAL,CAAU,GAAV,CAAc,GAAd,CAAjC,CADJ,EAC0D;AACxD,aAAO,KAAP;AACD;;AACD,SAAK,IAAL,CAAU,GAAV,CAAc,GAAd,EAAmB,KAAnB;;AACA,WAAO,IAAP;AACD,GATD;;AAUF,SAAA,MAAA;AAAC,CAzCD,EAAA;;AA2CA,MAAM,CAAC,OAAP,GAAiB,MAAjB","sourceRoot":"","sourcesContent":["'use strict';\nvar Filter = /** @class */ (function () {\n    function Filter(options) {\n        options = Object.assign({\n            getKey: function defaultGetKey(a) { return a; },\n            getValue: function defaultGetValue(a) { return a; },\n            isLessThanOrEqualTo: function defaultIsLessThanOrEqualTo(a, b) { return a <= b; }\n        }, options);\n        Object.defineProperties(this, {\n            _getKey: {\n                value: options.getKey\n            },\n            _getValue: {\n                value: options.getValue\n            },\n            _isLessThanOrEqualTo: {\n                value: options.isLessThanOrEqualTo\n            },\n            _map: {\n                value: new Map()\n            }\n        });\n    }\n    Filter.prototype.toMap = function () {\n        return new Map(this._map);\n    };\n    Filter.prototype.updateAndFilter = function (entries) {\n        return entries.filter(this.update, this);\n    };\n    Filter.prototype.update = function (entry) {\n        var key = this._getKey(entry);\n        var value = this._getValue(entry);\n        if (this._map.has(key) &&\n            this._isLessThanOrEqualTo(value, this._map.get(key))) {\n            return false;\n        }\n        this._map.set(key, value);\n        return true;\n    };\n    return Filter;\n}());\nmodule.exports = Filter;\n//# sourceMappingURL=filter.js.map"]},"metadata":{},"sourceType":"script"}