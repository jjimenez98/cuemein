{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar EventEmitter = require('../../eventemitter');\n\nvar _a = require('../../util'),\n    buildLogLevels = _a.buildLogLevels,\n    valueToJSON = _a.valueToJSON;\n\nvar DEFAULT_LOG_LEVEL = require('../../util/constants').DEFAULT_LOG_LEVEL;\n\nvar Log = require('../../util/log');\n\nvar nInstances = 0;\n/**\n * A {@link TrackPublication} represents a {@link Track} that\n * has been published to a {@link Room}.\n * @property {string} trackName - the published {@link Track}'s name\n * @property {Track.SID} trackSid - SID assigned to the published {@link Track}\n * @emits TrackPublication#trackDisabled\n * @emits TrackPublication#trackEnabled\n */\n\nvar TrackPublication = function (_super) {\n  __extends(TrackPublication, _super);\n  /**\n   * Construct a {@link TrackPublication}.\n   * @param {string} trackName - the published {@link Track}'s name\n   * @param {Track.SID} trackSid - SID assigned to the {@link Track}\n   * @param {TrackPublicationOptions} options - {@link TrackPublication} options\n   */\n\n\n  function TrackPublication(trackName, trackSid, options) {\n    var _this = _super.call(this) || this;\n\n    options = Object.assign({\n      logLevel: DEFAULT_LOG_LEVEL\n    }, options);\n    var logLevels = buildLogLevels(options.logLevel);\n    Object.defineProperties(_this, {\n      _instanceId: {\n        value: nInstances++\n      },\n      _log: {\n        value: options.log ? options.log.createLog('default', _this) : new Log('default', _this, logLevels, options.loggerName)\n      },\n      trackName: {\n        enumerable: true,\n        value: trackName\n      },\n      trackSid: {\n        enumerable: true,\n        value: trackSid\n      }\n    });\n    return _this;\n  }\n\n  TrackPublication.prototype.toJSON = function () {\n    return valueToJSON(this);\n  };\n\n  TrackPublication.prototype.toString = function () {\n    return \"[TrackPublication #\" + this._instanceId + \": \" + this.trackSid + \"]\";\n  };\n\n  return TrackPublication;\n}(EventEmitter);\n/**\n * The published {@link Track} was disabled.\n * @event TrackPublication#trackDisabled\n */\n\n/**\n * The published {@link Track} was enabled.\n * @event TrackPublication#trackEnabled\n */\n\n/**\n * A {@link LocalAudioTrackPublication} or a {@link RemoteAudioTrackPublication}.\n * @typedef {LocalAudioTrackPublication|RemoteAudioTrackPublication} AudioTrackPublication\n */\n\n/**\n * A {@link LocalDataTrackPublication} or a {@link RemoteDataTrackPublication}.\n * @typedef {LocalDataTrackPublication|RemoteDataTrackPublication} DataTrackPublication\n */\n\n/**\n * A {@link LocalVideoTrackPublication} or a {@link RemoteVideoTrackPublication}.\n * @typedef {LocalVideoTrackPublication|RemoteVideoTrackPublication} VideoTrackPublication\n */\n\n/**\n * {@link TrackPublication} options\n * @typedef {object} TrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\n\n\nmodule.exports = TrackPublication;","map":{"version":3,"sources":["../../../lib/media/track/trackpublication.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAM,YAAY,GAAG,OAAO,CAAC,oBAAD,CAA5B;;AACM,IAAA,EAAA,GAAkC,OAAO,CAAC,YAAD,CAAzC;AAAA,IAAE,cAAc,GAAA,EAAA,CAAA,cAAhB;AAAA,IAAkB,WAAW,GAAA,EAAA,CAAA,WAA7B;;AACE,IAAA,iBAAiB,GAAK,OAAO,CAAC,sBAAD,CAAP,CAAL,iBAAjB;;AACR,IAAM,GAAG,GAAG,OAAO,CAAC,gBAAD,CAAnB;;AACA,IAAI,UAAU,GAAG,CAAjB;AAEA;;;;;;;AAOG;;AACH,IAAA,gBAAA,GAAA,UAAA,MAAA,EAAA;AAA+B,EAAA,SAAA,CAAA,gBAAA,EAAA,MAAA,CAAA;AAC7B;;;;;AAKG;;;AACH,WAAA,gBAAA,CAAY,SAAZ,EAAuB,QAAvB,EAAiC,OAAjC,EAAwC;AAAxC,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADT;;AAGE,IAAA,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc;AACtB,MAAA,QAAQ,EAAE;AADY,KAAd,EAEP,OAFO,CAAV;AAIA,QAAM,SAAS,GAAG,cAAc,CAAC,OAAO,CAAC,QAAT,CAAhC;AAEA,IAAA,MAAM,CAAC,gBAAP,CAAwB,KAAxB,EAA8B;AAC5B,MAAA,WAAW,EAAE;AACX,QAAA,KAAK,EAAE,UAAU;AADN,OADe;AAI5B,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAE,OAAO,CAAC,GAAR,GAAc,OAAO,CAAC,GAAR,CAAY,SAAZ,CAAsB,SAAtB,EAAiC,KAAjC,CAAd,GAAuD,IAAI,GAAJ,CAAQ,SAAR,EAAmB,KAAnB,EAAyB,SAAzB,EAAoC,OAAO,CAAC,UAA5C;AAD1D,OAJsB;AAO5B,MAAA,SAAS,EAAE;AACT,QAAA,UAAU,EAAE,IADH;AAET,QAAA,KAAK,EAAE;AAFE,OAPiB;AAW5B,MAAA,QAAQ,EAAE;AACR,QAAA,UAAU,EAAE,IADJ;AAER,QAAA,KAAK,EAAE;AAFC;AAXkB,KAA9B;;AAgBD;;AAED,EAAA,gBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,WAAO,WAAW,CAAC,IAAD,CAAlB;AACD,GAFD;;AAIA,EAAA,gBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,WAAO,wBAAsB,KAAK,WAA3B,GAAsC,IAAtC,GAA2C,KAAK,QAAhD,GAAwD,GAA/D;AACD,GAFD;;AAGF,SAAA,gBAAA;AAAC,CAzCD,CAA+B,YAA/B,CAAA;AA2CA;;;AAGG;;AAEH;;;AAGG;;AAEH;;;AAGG;;AAEH;;;AAGG;;AAEH;;;AAGG;;AAEH;;;;AAIG;;;AAEH,MAAM,CAAC,OAAP,GAAiB,gBAAjB","sourceRoot":"","sourcesContent":["'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar EventEmitter = require('../../eventemitter');\nvar _a = require('../../util'), buildLogLevels = _a.buildLogLevels, valueToJSON = _a.valueToJSON;\nvar DEFAULT_LOG_LEVEL = require('../../util/constants').DEFAULT_LOG_LEVEL;\nvar Log = require('../../util/log');\nvar nInstances = 0;\n/**\n * A {@link TrackPublication} represents a {@link Track} that\n * has been published to a {@link Room}.\n * @property {string} trackName - the published {@link Track}'s name\n * @property {Track.SID} trackSid - SID assigned to the published {@link Track}\n * @emits TrackPublication#trackDisabled\n * @emits TrackPublication#trackEnabled\n */\nvar TrackPublication = /** @class */ (function (_super) {\n    __extends(TrackPublication, _super);\n    /**\n     * Construct a {@link TrackPublication}.\n     * @param {string} trackName - the published {@link Track}'s name\n     * @param {Track.SID} trackSid - SID assigned to the {@link Track}\n     * @param {TrackPublicationOptions} options - {@link TrackPublication} options\n     */\n    function TrackPublication(trackName, trackSid, options) {\n        var _this = _super.call(this) || this;\n        options = Object.assign({\n            logLevel: DEFAULT_LOG_LEVEL\n        }, options);\n        var logLevels = buildLogLevels(options.logLevel);\n        Object.defineProperties(_this, {\n            _instanceId: {\n                value: nInstances++\n            },\n            _log: {\n                value: options.log ? options.log.createLog('default', _this) : new Log('default', _this, logLevels, options.loggerName)\n            },\n            trackName: {\n                enumerable: true,\n                value: trackName\n            },\n            trackSid: {\n                enumerable: true,\n                value: trackSid\n            }\n        });\n        return _this;\n    }\n    TrackPublication.prototype.toJSON = function () {\n        return valueToJSON(this);\n    };\n    TrackPublication.prototype.toString = function () {\n        return \"[TrackPublication #\" + this._instanceId + \": \" + this.trackSid + \"]\";\n    };\n    return TrackPublication;\n}(EventEmitter));\n/**\n * The published {@link Track} was disabled.\n * @event TrackPublication#trackDisabled\n */\n/**\n * The published {@link Track} was enabled.\n * @event TrackPublication#trackEnabled\n */\n/**\n * A {@link LocalAudioTrackPublication} or a {@link RemoteAudioTrackPublication}.\n * @typedef {LocalAudioTrackPublication|RemoteAudioTrackPublication} AudioTrackPublication\n */\n/**\n * A {@link LocalDataTrackPublication} or a {@link RemoteDataTrackPublication}.\n * @typedef {LocalDataTrackPublication|RemoteDataTrackPublication} DataTrackPublication\n */\n/**\n * A {@link LocalVideoTrackPublication} or a {@link RemoteVideoTrackPublication}.\n * @typedef {LocalVideoTrackPublication|RemoteVideoTrackPublication} VideoTrackPublication\n */\n/**\n * {@link TrackPublication} options\n * @typedef {object} TrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\nmodule.exports = TrackPublication;\n//# sourceMappingURL=trackpublication.js.map"]},"metadata":{},"sourceType":"script"}