{"ast":null,"code":"'use strict';\n\nvar IceReport = require('./icereport');\n/**\n * @property {IceReport} lastReport\n * @property {?RTCStats} lastStats\n */\n\n\nvar IceReportFactory = function () {\n  /**\n   * Construct an {@link IceReportFactory}.\n   */\n  function IceReportFactory() {\n    Object.defineProperties(this, {\n      lastReport: {\n        enumerable: true,\n        value: new IceReport(0, 0),\n        writable: true\n      },\n      lastStats: {\n        enumerable: true,\n        value: null,\n        writable: true\n      }\n    });\n  }\n  /**\n   * Create an {@link IceReport}.\n   * @param {RTCStats} newerStats;\n   * @returns {IceReport}\n   */\n\n\n  IceReportFactory.prototype.next = function (newerStats) {\n    var olderStats = this.lastStats;\n    this.lastStats = newerStats;\n\n    if (olderStats) {\n      var report = olderStats.id === newerStats.id ? IceReport.of(olderStats, newerStats) : new IceReport(0, 0);\n      this.lastReport = report;\n    }\n\n    return this.lastReport;\n  };\n\n  return IceReportFactory;\n}();\n\nmodule.exports = IceReportFactory;","map":{"version":3,"sources":["../../lib/stats/icereportfactory.js"],"names":[],"mappings":"AAAA;;AAEA,IAAM,SAAS,GAAG,OAAO,CAAC,aAAD,CAAzB;AAEA;;;AAGG;;;AACH,IAAA,gBAAA,GAAA,YAAA;AACE;;AAEG;AACH,WAAA,gBAAA,GAAA;AACE,IAAA,MAAM,CAAC,gBAAP,CAAwB,IAAxB,EAA8B;AAC5B,MAAA,UAAU,EAAE;AACV,QAAA,UAAU,EAAE,IADF;AAEV,QAAA,KAAK,EAAE,IAAI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAFG;AAGV,QAAA,QAAQ,EAAE;AAHA,OADgB;AAM5B,MAAA,SAAS,EAAE;AACT,QAAA,UAAU,EAAE,IADH;AAET,QAAA,KAAK,EAAE,IAFE;AAGT,QAAA,QAAQ,EAAE;AAHD;AANiB,KAA9B;AAYD;AAED;;;;AAIG;;;AACH,EAAA,gBAAA,CAAA,SAAA,CAAA,IAAA,GAAA,UAAK,UAAL,EAAe;AACb,QAAM,UAAU,GAAG,KAAK,SAAxB;AACA,SAAK,SAAL,GAAiB,UAAjB;;AACA,QAAI,UAAJ,EAAgB;AACd,UAAM,MAAM,GAAG,UAAU,CAAC,EAAX,KAAkB,UAAU,CAAC,EAA7B,GACX,SAAS,CAAC,EAAV,CAAa,UAAb,EAAyB,UAAzB,CADW,GAEX,IAAI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAFJ;AAGA,WAAK,UAAL,GAAkB,MAAlB;AACD;;AACD,WAAO,KAAK,UAAZ;AACD,GAVD;;AAWF,SAAA,gBAAA;AAAC,CAnCD,EAAA;;AAqCA,MAAM,CAAC,OAAP,GAAiB,gBAAjB","sourceRoot":"","sourcesContent":["'use strict';\nvar IceReport = require('./icereport');\n/**\n * @property {IceReport} lastReport\n * @property {?RTCStats} lastStats\n */\nvar IceReportFactory = /** @class */ (function () {\n    /**\n     * Construct an {@link IceReportFactory}.\n     */\n    function IceReportFactory() {\n        Object.defineProperties(this, {\n            lastReport: {\n                enumerable: true,\n                value: new IceReport(0, 0),\n                writable: true\n            },\n            lastStats: {\n                enumerable: true,\n                value: null,\n                writable: true\n            }\n        });\n    }\n    /**\n     * Create an {@link IceReport}.\n     * @param {RTCStats} newerStats;\n     * @returns {IceReport}\n     */\n    IceReportFactory.prototype.next = function (newerStats) {\n        var olderStats = this.lastStats;\n        this.lastStats = newerStats;\n        if (olderStats) {\n            var report = olderStats.id === newerStats.id\n                ? IceReport.of(olderStats, newerStats)\n                : new IceReport(0, 0);\n            this.lastReport = report;\n        }\n        return this.lastReport;\n    };\n    return IceReportFactory;\n}());\nmodule.exports = IceReportFactory;\n//# sourceMappingURL=icereportfactory.js.map"]},"metadata":{},"sourceType":"script"}