{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar defaultCreateCancelableRoomSignalingPromise = require('./cancelableroomsignalingpromise');\n\nvar LocalParticipantV2 = require('./localparticipant');\n\nvar Signaling = require('../');\n/**\n * {@link SignalingV2} implements version 2 of our signaling protocol.\n * @extends Signaling\n */\n\n\nvar SignalingV2 = function (_super) {\n  __extends(SignalingV2, _super);\n  /**\n   * Construct {@link SignalingV2}.\n   * @param {string} wsServer\n   * @param {?object} [options={}]\n   */\n\n\n  function SignalingV2(wsServer, options) {\n    var _this = this;\n    /* eslint new-cap:0 */\n\n\n    options = Object.assign({\n      createCancelableRoomSignalingPromise: defaultCreateCancelableRoomSignalingPromise\n    }, options);\n    _this = _super.call(this) || this;\n    Object.defineProperties(_this, {\n      _createCancelableRoomSignalingPromise: {\n        value: options.createCancelableRoomSignalingPromise\n      },\n      _options: {\n        value: options\n      },\n      _wsServer: {\n        value: wsServer\n      }\n    });\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  SignalingV2.prototype._connect = function (localParticipant, token, encodingParameters, preferredCodecs, options) {\n    options = Object.assign({}, this._options, options);\n    return this._createCancelableRoomSignalingPromise.bind(null, token, this._wsServer, localParticipant, encodingParameters, preferredCodecs, options);\n  };\n\n  SignalingV2.prototype.createLocalParticipantSignaling = function (encodingParameters, networkQualityConfiguration) {\n    return new LocalParticipantV2(encodingParameters, networkQualityConfiguration);\n  };\n\n  return SignalingV2;\n}(Signaling);\n\nmodule.exports = SignalingV2;","map":{"version":3,"sources":["../../../lib/signaling/v2/index.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAM,2CAA2C,GAAG,OAAO,CAAC,kCAAD,CAA3D;;AACA,IAAM,kBAAkB,GAAG,OAAO,CAAC,oBAAD,CAAlC;;AACA,IAAM,SAAS,GAAG,OAAO,CAAC,KAAD,CAAzB;AAEA;;;AAGG;;;AACH,IAAA,WAAA,GAAA,UAAA,MAAA,EAAA;AAA0B,EAAA,SAAA,CAAA,WAAA,EAAA,MAAA,CAAA;AACxB;;;;AAIG;;;AACH,WAAA,WAAA,CAAY,QAAZ,EAAsB,OAAtB,EAA6B;AAA7B,QAAA,KAAA,GAAA,IAAA;AACE;;;AACA,IAAA,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc;AACtB,MAAA,oCAAoC,EAAE;AADhB,KAAd,EAEP,OAFO,CAAV;AAIA,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IAAP;AAEA,IAAA,MAAM,CAAC,gBAAP,CAAwB,KAAxB,EAA8B;AAC5B,MAAA,qCAAqC,EAAE;AACrC,QAAA,KAAK,EAAE,OAAO,CAAC;AADsB,OADX;AAI5B,MAAA,QAAQ,EAAE;AACR,QAAA,KAAK,EAAE;AADC,OAJkB;AAO5B,MAAA,SAAS,EAAE;AACT,QAAA,KAAK,EAAE;AADE;AAPiB,KAA9B;;AAWD;AAED;;AAEG;;;AACH,EAAA,WAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UACE,gBADF,EAEE,KAFF,EAGE,kBAHF,EAIE,eAJF,EAKE,OALF,EAKS;AAEP,IAAA,OAAO,GAAG,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,QAAvB,EAAiC,OAAjC,CAAV;AACA,WAAO,KAAK,qCAAL,CAA2C,IAA3C,CACL,IADK,EAEL,KAFK,EAGL,KAAK,SAHA,EAIL,gBAJK,EAKL,kBALK,EAML,eANK,EAOL,OAPK,CAAP;AAQD,GAhBD;;AAkBA,EAAA,WAAA,CAAA,SAAA,CAAA,+BAAA,GAAA,UAAgC,kBAAhC,EAAoD,2BAApD,EAA+E;AAC7E,WAAO,IAAI,kBAAJ,CAAuB,kBAAvB,EAA2C,2BAA3C,CAAP;AACD,GAFD;;AAGF,SAAA,WAAA;AAAC,CAnDD,CAA0B,SAA1B,CAAA;;AAqDA,MAAM,CAAC,OAAP,GAAiB,WAAjB","sourceRoot":"","sourcesContent":["'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar defaultCreateCancelableRoomSignalingPromise = require('./cancelableroomsignalingpromise');\nvar LocalParticipantV2 = require('./localparticipant');\nvar Signaling = require('../');\n/**\n * {@link SignalingV2} implements version 2 of our signaling protocol.\n * @extends Signaling\n */\nvar SignalingV2 = /** @class */ (function (_super) {\n    __extends(SignalingV2, _super);\n    /**\n     * Construct {@link SignalingV2}.\n     * @param {string} wsServer\n     * @param {?object} [options={}]\n     */\n    function SignalingV2(wsServer, options) {\n        var _this = this;\n        /* eslint new-cap:0 */\n        options = Object.assign({\n            createCancelableRoomSignalingPromise: defaultCreateCancelableRoomSignalingPromise\n        }, options);\n        _this = _super.call(this) || this;\n        Object.defineProperties(_this, {\n            _createCancelableRoomSignalingPromise: {\n                value: options.createCancelableRoomSignalingPromise\n            },\n            _options: {\n                value: options\n            },\n            _wsServer: {\n                value: wsServer\n            }\n        });\n        return _this;\n    }\n    /**\n     * @private\n     */\n    SignalingV2.prototype._connect = function (localParticipant, token, encodingParameters, preferredCodecs, options) {\n        options = Object.assign({}, this._options, options);\n        return this._createCancelableRoomSignalingPromise.bind(null, token, this._wsServer, localParticipant, encodingParameters, preferredCodecs, options);\n    };\n    SignalingV2.prototype.createLocalParticipantSignaling = function (encodingParameters, networkQualityConfiguration) {\n        return new LocalParticipantV2(encodingParameters, networkQualityConfiguration);\n    };\n    return SignalingV2;\n}(Signaling));\nmodule.exports = SignalingV2;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}